(()=>{var{createWorker:u}=Tesseract,l=1e3*3;function f(e){return new Promise(t=>setTimeout(t,e))}var o=[];window.addEventListener("message",e=>{e.data.onScreenDetection!==void 0&&(e.data.onScreenDetection?g():m()),e.data.onScreenKeywords!==void 0&&(o=e.data.onScreenKeywords.map(t=>t.toLowerCase()))});triggerNuiCallback("recognitionReady");var n=!1;function g(){let e=async()=>{let t=await u("eng",1);for(await t.setParameters({tessedit_pageseg_mode:"3",debug_file:"/dev/null"});n;){let r=Date.now(),s=await gameRenderer.requestScreenshot({canvas:!0,outline:!0}),{data:{text:c}}=await t.recognize(s),i=c.toLowerCase();for(let a of o)i.includes(a)&&triggerNuiCallback("keywordDetected",{word:a});let d=Date.now()-r,w=Math.max(0,l-d);await f(w)}await t.terminate()};n||(n=!0,e())}function m(){n=!1}})();
